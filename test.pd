#N canvas 762 232 1004 630 10;
#X declare -lib mrpeach;
#X obj 27 44 import mrpeach;
#X obj 29 544 udpsend;
#X obj 111 526 packOSC;
#X msg 626 292 0;
#X msg 664 291 1;
#X msg 28 73 connect localhost 8000;
#X msg 631 636 send /stream/create/fromstring \$1;
#X msg 625 327 send /stream/start \$1;
#X msg 627 392 send /print/caps 1;
#X msg 678 457 1;
#X msg 631 487 send /stream/delete \$1;
#X text 625 363 print streaming caps \, important if bitrates or video
input caps are changed;
#X text 628 435 stop and delete a pipeline object;
#X msg 850 63 UDPSrcToFileSink;
#X msg 574 62 FileSrcToV4l2Loopback;
#X text 301 -3 following pipelines are available \, see the config.ini
for details. the important "pipeline number" is the number of the current
stream. the pipeline number changes the pipeline attributes \, as it
they are listed in the config;
#X text 621 268 after a stream was created \, it has to be started
;
#X msg 632 555 v4l2src name=vsource ! videoscale ! video/x-raw-yuv
\, width=640 \, height=480 ! videorate ! video/x-raw-yuv \, framerate=25/1
! ffmpegcolorspace ! ffenc_mpeg4 bitrate=200000 ! rtpmp4vpay ! udpsink
host=127.0.0.1 port=5000 name=vsink;
#X text 632 525 not working \, but might be an nice way to create pipelines!
osc cant send this as a string!;
#X floatatom 69 283 5 0 0 0 - - -;
#X msg 724 62 VideoSrcToUDPSink;
#X msg 304 60 VideoSrcToFileSink;
#X msg 559 216 send /stream/create/fromfactory UDPSrcToV4l2Loopback
;
#X msg 433 62 UDPSrcToV4l2Loopback;
#X text 738 292 stream number;
#X msg 700 291 2;
#X msg 633 457 0;
#X msg 717 456 2;
#X msg 755 457 3;
#X text 788 457 stream number;
#X text 556 111 dont know how to send the strings above to the pd object
\, \$1 is not working \, so copy one of the above strings;
#X msg 558 145 send /stream/create/fromfactory \$1;
#X text 560 171 like this its working;
#X text 620 254 start/stop stream;
#X text 68 231 !! config number !! changes the parameter of the stream
when a stream is created \, e.g the video device is the config number
\, also the udp port is 5000 + the config number;
#X msg 69 308 send /config/change/number \$1;
#X msg 560 191 send /stream/create/fromfactory VideoSrcToUDPSink;
#X connect 2 0 1 0;
#X connect 3 0 7 0;
#X connect 4 0 7 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 2 0;
#X connect 8 0 2 0;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X connect 14 0 31 0;
#X connect 17 0 6 0;
#X connect 19 0 35 0;
#X connect 21 0 31 0;
#X connect 22 0 2 0;
#X connect 23 0 31 0;
#X connect 25 0 7 0;
#X connect 26 0 10 0;
#X connect 27 0 10 0;
#X connect 28 0 10 0;
#X connect 31 0 2 0;
#X connect 35 0 2 0;
#X connect 36 0 2 0;
#X coords 0 31500 50 31450 0 0 0;
